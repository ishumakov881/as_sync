<templateSet group="_Me_Kts">
  <template name="pre" value="//Precompose&#10;api(libs.precompose)&#10;api(libs.precompose.viewmodel)&#10;api(libs.precompose.koin)" description="Precompose kts" toReformat="false" toShortenFQNames="true">
    <context>
      <option name="COMPOSE" value="true" />
    </context>
  </template>
  <template name="koin" value="implementation(libs.koin.core)&#10;implementation(libs.insert.koin.koin.compose)&#10;implementation(libs.koin.compose.wasm.js)&#10;&#10;" description="Koin kts" toReformat="false" toShortenFQNames="true">
    <context>
      <option name="COMPOSE" value="true" />
    </context>
  </template>
  <template name="voya" value="//Navigation&#10;implementation(libs.voyager)&#10;implementation(libs.kmpObservableViewModel)" description="Voyager Navigation kts" toReformat="false" toShortenFQNames="true">
    <context>
      <option name="COMPOSE" value="true" />
    </context>
  </template>
  <template name="swip" value="//Swipe Refresh Lib&#10;implementation(&quot;com.google.accompanist:accompanist-swiperefresh:0.36.0&quot;)" description="Voyager Navigation kts" toReformat="false" toShortenFQNames="true">
    <context>
      <option name="COMPOSE" value="true" />
    </context>
  </template>
  <template name="ktorad" value="//Ktor&#10;            //implementation(libs.ktor.serialization.gson)&#10;            //implementation(libs.ktor.client.serialization)&#10;            implementation(libs.ktor.serialization.kotlinx.json)&#10;            implementation(libs.ktor.client.okhttp) // Для Android (или другой движок, например, CIO)&#10;            implementation(libs.ktor.client.android)&#10;            implementation(libs.logging.interceptor)" description="Ktor androidMain Dependencies" toReformat="true" toShortenFQNames="true">
    <context>
      <option name="COMPOSE" value="true" />
      <option name="COMPOSE_KOTLIN_CLASS" value="false" />
      <option name="COMPOSE_KOTLIN_COMMENT" value="false" />
      <option name="COMPOSE_KOTLIN_EXPRESSION" value="false" />
      <option name="COMPOSE_KOTLIN_OBJECT_DECLARATION" value="false" />
    </context>
  </template>
  <template name="ktorcd" value="            implementation(libs.ktor.client.core)&#10;            implementation(libs.ktor.client.content.negotiation)&#10;            implementation(libs.ktor.serialization.kotlinx.json)&#10;            implementation(libs.ktor.client.logging)" description="Ktor commonMain Dependencies" toReformat="true" toShortenFQNames="true">
    <context>
      <option name="COMPOSE" value="true" />
      <option name="COMPOSE_KOTLIN_CLASS" value="false" />
      <option name="COMPOSE_KOTLIN_COMMENT" value="false" />
      <option name="COMPOSE_KOTLIN_EXPRESSION" value="false" />
      <option name="COMPOSE_KOTLIN_OBJECT_DECLARATION" value="false" />
    </context>
  </template>
  <template name="ktordd" value="//Ktor&#10;            implementation(libs.ktor.client.cio)&#10;            implementation(libs.ktor.client.okhttp)" description="Ktor desktopMain Dependencies" toReformat="true" toShortenFQNames="true">
    <context>
      <option name="CMAKE" value="false" />
      <option name="EDU_TASK_DESCRIPTION_HINT" value="false" />
      <option name="GROOVY" value="false" />
      <option name="HTML" value="false" />
      <option name="JAVA_CODE" value="false" />
      <option name="JSON" value="false" />
      <option name="KOTLIN" value="false" />
      <option name="OTHER" value="true" />
      <option name="Properties" value="false" />
      <option name="SHELL_SCRIPT" value="false" />
      <option name="XML" value="false" />
      <option name="XML_ATTRIBUTE" value="false" />
      <option name="c" value="false" />
      <option name="cpp" value="false" />
      <option name="objc" value="false" />
    </context>
  </template>
  <template name="seri" value="    kotlin(&quot;plugin.serialization&quot;) version &quot;1.9.0&quot; apply false&#10;    //kotlin(&quot;plugin.serialization&quot;) version &quot;2.1.21&quot; apply false&#10;    //kotlin(&quot;plugin.serialization&quot;) version &quot;2.1.21&quot; apply false&#10;    //id(&quot;kotlinx-serialization&quot;) version &quot;2.1.0&quot; apply false" description="Kotlin Serialization" toReformat="false" toShortenFQNames="true">
    <context>
      <option name="COMPOSE" value="true" />
    </context>
  </template>
  <template name="ktssl" value="plugins {&#10;    id(&quot;java-library&quot;)&#10;    alias(libs.plugins.jetbrains.kotlin.jvm)&#10;&#10;//    alias(libs.plugins.androidLibrary)&#10;    alias(libs.plugins.jetbrains.kotlin.jvm)&#10;    kotlin(&quot;plugin.serialization&quot;) version &quot;1.9.0&quot;&#10;}&#10;java {&#10;    sourceCompatibility = JavaVersion.VERSION_21&#10;    targetCompatibility = JavaVersion.VERSION_21&#10;}&#10;kotlin {&#10;    compilerOptions {&#10;        jvmTarget = org.jetbrains.kotlin.gradle.dsl.JvmTarget.JVM_21&#10;    }&#10;}&#10;&#10;&#10;dependencies {&#10;    implementation(libs.kotlin.stdlib.jdk8)&#10;    implementation(libs.kotlinx.serialization.json)&#10;    implementation(libs.ktor.client.core)&#10;    implementation(libs.ktor.client.content.negotiation)&#10;    testImplementation(libs.kotlintest.runner.junit5)&#10;    implementation(libs.kotlinx.datetime)&#10;}" description="Kts Simple Kotlin Lib" toReformat="false" toShortenFQNames="true">
    <context>
      <option name="COMPOSE" value="true" />
    </context>
  </template>
  <template name="dpadim" value="DpadIconButton(&#10;                onClick = $FUN$&#10;            ) {&#10;                Icon(&#10;                    imageVector = Icons.Default.Close,&#10;                    contentDescription = &quot;Закрыть&quot;&#10;                )&#10;                $END$&#10;            }" description="Dpad ImageButton" toReformat="false" toShortenFQNames="true">
    <variable name="FUN" expression="" defaultValue="" alwaysStopAt="true" />
    <context>
      <option name="COMPOSE" value="true" />
    </context>
  </template>
  <template name="airolejetpack" value="Ты — Senior Android разработчик, эксперт в Jetpack Compose Mobile и Jetpack Compose for TV (androidx.tv.material3).&#10;Ты работаешь в архитектуре Clean Architecture + MVVM + DI (Koin или Hilt).&#10;&#10;В проекте две независимые UI-реализации:&#10;1) Mobile UI → Material3 (androidx.material3)&#10;2) Android TV UI → TV Material3 (androidx.tv.material3)&#10;&#10;Определение платформы происходит автоматически (телефон / Android TV / приставка).&#10;&#10;Твоя задача:&#10;$END$&#10;&#10;Требования к решению:&#10;&#10;=====================&#10;= 1. Общие правила =&#10;=====================&#10;1. Код должен быть production-ready.&#10;2. UI-компоненты stateless, логика — во ViewModel.&#10;3. State hoisting.&#10;4. Простая навигация, предсказуемое состояние.&#10;5. Максимальная модульность и переиспользуемость.&#10;6. Preview-friendly структура.&#10;&#10;======================&#10;= 2. Mobile UI (M3) =&#10;======================&#10;Используй:&#10;- androidx.material3.*&#10;- Scaffold, NavigationBar, TopAppBar&#10;- LazyColumn / LazyRow&#10;- стандартные mobile gestures&#10;- touch-first UX&#10;&#10;НЕ используй:&#10;- dpad&#10;- TV focus logic&#10;- tv-specific компоненты&#10;&#10;====================&#10;= 3. TV UI (androidx.tv.material3) =&#10;====================&#10;Используй:&#10;- androidx.tv.material3.*&#10;- ImmersiveList, TvLazyColumn, TvLazyRow, TabRow, Carousel&#10;- D-Pad навигацию&#10;- управление фокусом:&#10;    - focusRequester&#10;    - focusProperties&#10;    - onFocusChanged&#10;    - TV-specific focus groups&#10;- крупные touch targets (по стандарту Android TV)&#10;- плавные анимации фокусировки&#10;- ограничение на вложенные фокусируемые элементы&#10;&#10;Не добавляй mobile gestures.&#10;&#10;====================================&#10;= 4. Структура, которую ты должен дать =&#10;====================================&#10;1. Полную реализацию:&#10;   - для Mobile UI&#10;   - для TV UI&#10;   (два отдельных composable)&#10;2. Общий интерфейс/контракт (если это компонент)&#10;3. ViewModel и state (без UI-логики)&#10;4. DI-пример (Koin/Hilt)&#10;5. Навигацию (две реализации при необходимости)&#10;6. Лучшие практики и советы для оптимизации&#10;7. Дополнительные модификаторы/утилиты, если нужны&#10;8. Никакой воды — только чистый, профессиональный код&#10;Наличие готовых решений и библиотек предпочтительнее создание нового кода и самостоятельных решений, но не пренципиально&#10;" description="AI Role Jetpack Compose" toReformat="false" toShortenFQNames="true">
    <context>
      <option name="ANDROID" value="true" />
      <option name="COMPOSE" value="true" />
      <option name="KOTLIN" value="true" />
    </context>
  </template>
  <template name="tmpl_mvp" value="sealed class UiState {&#10;    object Idle : UiState()&#10;    object Loading : UiState()&#10;    data class Success(val data: String) : UiState()&#10;    data class Error(val message: String) : UiState()&#10;}&#10;&#10;class $CLASS_NAME$ViewModel : ViewModel() {&#10;&#10;    private val _uiState = MutableStateFlow&lt;UiState&gt;(UiState.Idle)&#10;    val uiState: StateFlow&lt;UiState&gt; = _uiState&#10;&#10;    fun onButtonClick() {&#10;        _uiState.value = UiState.Loading&#10;&#10;        // Симуляция загрузки данных&#10;        viewModelScope.launch {&#10;            delay(1500) // имитация сети&#10;            if (Random.nextBoolean()) {&#10;                _uiState.value = UiState.Success(&quot;Data loaded successfully!&quot;)&#10;            } else {&#10;                _uiState.value = UiState.Error(&quot;Something went wrong!&quot;)&#10;            }&#10;        }&#10;    }&#10;}&#10;@Composable&#10;fun $CLASS_NAME$Screen($CLASS_NAME$ViewModel: $CLASS_NAME$ViewModel = viewModel()) {&#10;    val context = LocalContext.current&#10;    val uiState by $CLASS_NAME$ViewModel.uiState.collectAsState()&#10;&#10;    Box(&#10;        modifier = Modifier&#10;            .fillMaxSize()&#10;            .padding(16.dp),&#10;        contentAlignment = Alignment.Center&#10;    ) {&#10;        when (uiState) {&#10;            is UiState.Idle -&gt; {&#10;                Button(onClick = { $CLASS_NAME$ViewModel.onButtonClick() }) {&#10;                    Text(&quot;Load Data&quot;)&#10;                }&#10;            }&#10;            is UiState.Loading -&gt; {&#10;                CircularProgressIndicator()&#10;            }&#10;            is UiState.Success -&gt; {&#10;                Column(horizontalAlignment = Alignment.CenterHorizontally) {&#10;                    Text((uiState as UiState.Success).data)&#10;                    Spacer(modifier = Modifier.height(16.dp))&#10;                    Button(onClick = { $CLASS_NAME$ViewModel.onButtonClick() }) {&#10;                        Text(&quot;Reload&quot;)&#10;                    }&#10;                }&#10;            }&#10;            is UiState.Error -&gt; {&#10;                Column(horizontalAlignment = Alignment.CenterHorizontally) {&#10;                    Text((uiState as UiState.Error).message, color = MaterialTheme.colorScheme.error)&#10;                    Spacer(modifier = Modifier.height(16.dp))&#10;                    Button(onClick = { &#10;                        $CLASS_NAME$ViewModel.onButtonClick()&#10;                        Toast.makeText(context, &quot;Retry clicked&quot;, Toast.LENGTH_SHORT).show()&#10;                    }) {&#10;                        Text(&quot;Retry&quot;)&#10;                    }&#10;                }&#10;            }&#10;        }&#10;    }&#10;}" description="AI Role Jetpack Compose" toReformat="false" toShortenFQNames="true">
    <variable name="CLASS_NAME" expression="" defaultValue="" alwaysStopAt="true" />
    <context>
      <option name="COMPOSE" value="true" />
    </context>
  </template>
</templateSet>